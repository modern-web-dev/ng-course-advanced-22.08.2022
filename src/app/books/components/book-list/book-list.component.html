<ul class="list-group">
  <li
    class="list-group-item"
    [ngClass]="{ selected: book.id === selectedBook?.id}"
    *ngFor="let book of books"
    (click)="selectBook(book)">
    {{ book.title }}, <em>{{ book.author }}</em>
  </li>
</ul>

<section *ngIf="selectedBook" class="mt-4" id="editor">
  <form (ngSubmit)="saveBook()" [formGroup]="formGroup">
    <p class="lead">Edit selected book</p>
    <div>
      <app-input label="Title" inputId="title" formControlName="title" [mandatory]="true"></app-input>
    </div>
    <div class="mt-2">
      <app-input label="Author" inputId="author" formControlName="author" [mandatory]="true"></app-input>
    </div>
    <div class="mt-2">
      <label for="description" class="form-label">Description</label>
      <textarea id="description" class="form-control" rows="6" formControlName="description"></textarea>
      <div class="invalid-feedback">
        {{ formGroup.controls.description.errors | errorMsg : 'description' }}
      </div>
    </div>

    <div class="d-md-flex justify-content-md-end gap-2 mt-3">
      <button type="button" class="btn btn-light" (click)="toggleDisable()">Disable/enable</button>
      <button type="button" id="cancel" class="btn btn-light" (click)="cancelEditing()">Cancel</button>
      <button type="submit" id="save" class="btn btn-primary" [disabled]="formGroup.invalid || formGroup.pristine">Save</button>
    </div>
  </form>
</section>
